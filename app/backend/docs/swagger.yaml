basePath: /
definitions:
  db.Project:
    properties:
      created_at:
        type: string
      expires_at:
        type: string
      id:
        type: string
      is_public:
        type: boolean
      key:
        maxLength: 50
        minLength: 1
        type: string
      name:
        maxLength: 255
        minLength: 1
        type: string
      status:
        enum:
        - active
        - inactive
        type: string
      tenant_id:
        type: string
      updated_at:
        type: string
    required:
    - key
    - name
    type: object
  handlers.AboutMeSettings:
    properties:
      content:
        type: string
    type: object
  handlers.AgentWebSocketResponse:
    description: WebSocket message format for agent responses
    properties:
      data: {}
      from_type:
        enum:
        - agent
        - customer
        - system
        example: agent
        type: string
      session_id:
        example: 123e4567-e89b-12d3-a456-426614174000
        type: string
      timestamp:
        example: "2023-09-29T10:00:00Z"
        type: string
      type:
        enum:
        - agent_connected
        - pong
        - error
        - chat_message
        - typing_start
        - typing_stop
        - notification
        example: agent_connected
        type: string
    type: object
  handlers.ApiKeyRequest:
    properties:
      name:
        type: string
    required:
    - name
    type: object
  handlers.ApiKeyWithValueResponse:
    properties:
      created_at:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      key:
        type: string
      key_preview:
        type: string
      last_used:
        type: string
      name:
        type: string
    type: object
  handlers.AutomationSettings:
    properties:
      assignment_strategy:
        type: string
      auto_reply_template:
        type: string
      enable_auto_assignment:
        type: boolean
      enable_auto_reply:
        type: boolean
      enable_escalation:
        type: boolean
      escalation_threshold_hours:
        type: integer
      max_tickets_per_agent:
        type: integer
    type: object
  handlers.BrandingSettings:
    properties:
      about:
        type: string
      accent_color:
        type: string
      company_name:
        type: string
      custom_css:
        type: string
      enable_custom_branding:
        type: boolean
      favicon_url:
        type: string
      header_logo_height:
        type: integer
      logo_url:
        type: string
      primary_color:
        type: string
      secondary_color:
        type: string
      support_url:
        type: string
    type: object
  handlers.CashfreeWebhookEvent:
    properties:
      data:
        items:
          type: integer
        type: array
      event_time:
        type: string
      type:
        type: string
    type: object
  handlers.CreateConnectorRequest:
    properties:
      imap_folder:
        type: string
      imap_host:
        type: string
      imap_password:
        type: string
      imap_port:
        type: integer
      imap_seen_strategy:
        $ref: '#/definitions/models.IMAPSeenStrategy'
      imap_use_tls:
        type: boolean
      imap_username:
        type: string
      name:
        type: string
      smtp_host:
        type: string
      smtp_password:
        type: string
      smtp_port:
        type: integer
      smtp_use_tls:
        type: boolean
      smtp_username:
        type: string
      type:
        $ref: '#/definitions/models.EmailConnectorType'
    required:
    - name
    - type
    type: object
  handlers.CreateDomainValidationRequest:
    properties:
      domain:
        type: string
    required:
    - domain
    type: object
  handlers.CreateProjectRequest:
    properties:
      key:
        maxLength: 50
        minLength: 1
        type: string
      name:
        maxLength: 255
        minLength: 1
        type: string
    required:
    - key
    - name
    type: object
  handlers.EmailResponse:
    properties:
      attachment_count:
        type: integer
      body_html:
        type: string
      body_text:
        type: string
      cc_addresses:
        items:
          type: string
        type: array
      created_at:
        type: string
      from_address:
        type: string
      from_name:
        type: string
      has_attachments:
        type: boolean
      headers:
        $ref: '#/definitions/models.JSONMap'
      id:
        type: string
      is_converted_to_ticket:
        type: boolean
      is_read:
        type: boolean
      is_reply:
        type: boolean
      mailbox_address:
        type: string
      message_id:
        type: string
      received_at:
        type: string
      sent_at:
        type: string
      snippet:
        type: string
      subject:
        type: string
      thread_id:
        type: string
      ticket_id:
        type: string
      to_addresses:
        items:
          type: string
        type: array
    type: object
  handlers.HealthResponse:
    properties:
      status:
        type: string
      time:
        type: string
      version:
        type: string
    type: object
  handlers.LoginRequest:
    description: User login request payload
    properties:
      email:
        example: user@example.com
        type: string
      password:
        example: password123
        type: string
    required:
    - email
    - password
    type: object
  handlers.LoginResponse:
    description: Successful login response with tokens and user information
    properties:
      access_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
      expires_in:
        example: 3600
        type: integer
      refresh_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
      token_type:
        example: Bearer
        type: string
      user:
        $ref: '#/definitions/handlers.User'
    type: object
  handlers.PublicMessage:
    properties:
      author_id:
        type: string
      author_type:
        type: string
      body:
        type: string
      created_at:
        type: string
      id:
        type: string
      is_private:
        type: boolean
      ticket_id:
        type: string
      user_info:
        $ref: '#/definitions/service.MessageUserInfo'
    type: object
  handlers.RefreshRequest:
    description: Token refresh request payload
    properties:
      refresh_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
    required:
    - refresh_token
    type: object
  handlers.RefreshResponse:
    description: Token refresh response with new access token
    properties:
      access_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
      expires_in:
        example: 3600
        type: integer
      token_type:
        example: Bearer
        type: string
    type: object
  handlers.ResendSignupOTPRequest:
    description: Request to resend OTP for signup verification
    properties:
      email:
        example: user@example.com
        type: string
    required:
    - email
    type: object
  handlers.SignUpRequest:
    description: User registration request payload
    properties:
      email:
        example: user@example.com
        type: string
      name:
        example: John Doe
        minLength: 2
        type: string
      password:
        example: password123
        minLength: 8
        type: string
    required:
    - email
    - name
    - password
    type: object
  handlers.SignUpResponse:
    description: Signup response indicating OTP has been sent
    properties:
      email:
        example: user@example.com
        type: string
      message:
        example: Verification code sent to your email
        type: string
    type: object
  handlers.StripeWebhookEvent:
    properties:
      data:
        properties:
          object:
            additionalProperties: true
            type: object
        type: object
      id:
        type: string
      type:
        type: string
    type: object
  handlers.UpdateProjectRequest:
    properties:
      key:
        maxLength: 50
        minLength: 1
        type: string
      name:
        maxLength: 255
        minLength: 1
        type: string
      status:
        enum:
        - active
        - inactive
        type: string
    required:
    - key
    - name
    - status
    type: object
  handlers.User:
    description: User information
    properties:
      email:
        example: user@example.com
        type: string
      id:
        example: 123e4567-e89b-12d3-a456-426614174000
        type: string
      name:
        example: John Doe
        type: string
      role:
        example: agent
        type: string
      tenant_id:
        example: 123e4567-e89b-12d3-a456-426614174000
        type: string
    type: object
  handlers.VerifyDomainRequest:
    properties:
      proof:
        type: string
    required:
    - proof
    type: object
  handlers.VerifySignupOTPRequest:
    description: OTP verification request payload
    properties:
      email:
        example: user@example.com
        type: string
      otp:
        example: "123456"
        type: string
    required:
    - email
    - otp
    type: object
  handlers.aiBuildRequest:
    properties:
      depth:
        type: integer
      url:
        type: string
    required:
    - url
    type: object
  handlers.deductUsageRequest:
    properties:
      completion_tokens:
        type: integer
      model:
        type: string
      prompt_tokens:
        type: integer
      request_id:
        type: string
      session_id:
        type: string
      total_tokens:
        type: integer
    required:
    - model
    type: object
  handlers.publicAIBuildRequest:
    properties:
      depth:
        type: integer
      url:
        type: string
    required:
    - url
    type: object
  models.Agent:
    properties:
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      last_login_at:
        type: string
      name:
        type: string
      status:
        type: string
      tenant_id:
        type: string
      updated_at:
        type: string
    type: object
  models.Alarm:
    properties:
      acknowledged_at:
        type: string
      acknowledged_by:
        type: string
      agent_id:
        type: string
      config:
        $ref: '#/definitions/models.AlarmEscalationConfig'
      created_at:
        type: string
      current_level:
        $ref: '#/definitions/models.AlarmLevel'
      escalation_count:
        type: integer
      id:
        type: string
      is_acknowledged:
        type: boolean
      last_escalation:
        type: string
      message:
        type: string
      metadata:
        $ref: '#/definitions/models.JSONMap'
      priority:
        $ref: '#/definitions/models.NotificationPriority'
      project_id:
        type: string
      start_time:
        type: string
      tenant_id:
        type: string
      title:
        type: string
      updated_at:
        type: string
    type: object
  models.AlarmEscalationConfig:
    properties:
      audio_enabled:
        type: boolean
      broadcast_to_all:
        type: boolean
      escalation_interval:
        $ref: '#/definitions/time.Duration'
      initial_level:
        $ref: '#/definitions/models.AlarmLevel'
      max_level:
        $ref: '#/definitions/models.AlarmLevel'
      persist_until_acknowledged:
        type: boolean
      visual_enabled:
        type: boolean
    type: object
  models.AlarmLevel:
    enum:
    - soft
    - medium
    - loud
    - urgent
    - critical
    type: string
    x-enum-varnames:
    - AlarmLevelSoft
    - AlarmLevelMedium
    - AlarmLevelLoud
    - AlarmLevelUrgent
    - AlarmLevelCritical
  models.AlarmStats:
    properties:
      active_count:
        type: integer
      critical_count:
        type: integer
      total_today:
        type: integer
      unacknowledged_count:
        type: integer
    type: object
  models.AuthMethod:
    enum:
    - oauth
    - api_key
    - none
    type: string
    x-enum-varnames:
    - AuthMethodOAuth
    - AuthMethodAPIKey
    - AuthMethodNone
  models.ChatMessage:
    properties:
      author_id:
        type: string
      author_name:
        type: string
      author_type:
        description: Author information
        type: string
      content:
        type: string
      created_at:
        type: string
      id:
        type: string
      is_private:
        type: boolean
      message_type:
        description: Message content
        type: string
      metadata:
        allOf:
        - $ref: '#/definitions/models.JSONMap'
        description: Message metadata
      project_id:
        type: string
      read_at:
        type: string
      read_by_agent:
        type: boolean
      read_by_visitor:
        description: Read tracking
        type: boolean
      session_id:
        type: string
      tenant_id:
        type: string
    type: object
  models.ChatSession:
    properties:
      assigned_agent_id:
        description: Agent assignment
        type: string
      assigned_agent_name:
        description: Joined fields
        type: string
      assigned_at:
        type: string
      client_session_id:
        description: this is generated
        type: string
      created_at:
        type: string
      customer_email:
        type: string
      customer_id:
        description: Session identity
        type: string
      customer_name:
        type: string
      ended_at:
        type: string
      id:
        type: string
      last_activity_at:
        type: string
      project_id:
        type: string
      started_at:
        description: Timing
        type: string
      status:
        description: Session metadata
        type: string
      tenant_id:
        type: string
      ticket_id:
        type: string
      updated_at:
        type: string
      use_ai:
        type: boolean
      visitor_info:
        $ref: '#/definitions/models.JSONMap'
      widget_id:
        type: string
      widget_name:
        type: string
    type: object
  models.ChatWidget:
    properties:
      agent_avatar_url:
        type: string
      agent_name:
        description: Agent personalization
        type: string
      allow_file_uploads:
        type: boolean
      animation_style:
        type: string
      auto_open_delay:
        description: Behavior settings
        type: integer
      away_message:
        type: string
      background_color:
        type: string
      business_hours:
        allOf:
        - $ref: '#/definitions/models.JSONMap'
        description: Business hours and embed settings
      chat_bubble_style:
        type: string
      created_at:
        type: string
      custom_css:
        type: string
      custom_greeting:
        type: string
      domain_id:
        type: string
      embed_code:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      name:
        description: Widget configuration
        type: string
      offline_message:
        type: string
      position:
        type: string
      primary_color:
        description: Appearance settings
        type: string
      project_id:
        type: string
      require_email:
        type: boolean
      require_name:
        type: boolean
      secondary_color:
        type: string
      show_agent_avatars:
        type: boolean
      show_powered_by:
        type: boolean
      sound_enabled:
        type: boolean
      tenant_id:
        type: string
      updated_at:
        type: string
      use_ai:
        description: AI and advanced features
        type: boolean
      welcome_message:
        description: Messaging settings
        type: string
      widget_shape:
        type: string
      widget_size:
        type: string
    type: object
  models.CreateChatWidgetRequest:
    properties:
      agent_avatar_url:
        type: string
      agent_name:
        maxLength: 255
        type: string
      allow_file_uploads:
        type: boolean
      auto_open_delay:
        maximum: 60
        minimum: 0
        type: integer
      background_color:
        type: string
      business_hours:
        $ref: '#/definitions/models.JSONMap'
      chat_bubble_style:
        enum:
        - modern
        - classic
        - minimal
        - bot
        type: string
      custom_greeting:
        maxLength: 500
        type: string
      offline_message:
        maxLength: 500
        type: string
      position:
        enum:
        - bottom-right
        - bottom-left
        type: string
      primary_color:
        description: |-
          DomainID         uuid.UUID `json:"domain_id" binding:"required"`
          Name             string    `json:"name" binding:"required,max=255"`
        type: string
      require_email:
        type: boolean
      require_name:
        type: boolean
      secondary_color:
        type: string
      show_agent_avatars:
        type: boolean
      use_ai:
        type: boolean
      welcome_message:
        maxLength: 500
        type: string
      widget_shape:
        enum:
        - rounded
        - square
        type: string
    type: object
  models.CreateIntegrationRequest:
    properties:
      config:
        $ref: '#/definitions/models.JSONMap'
      name:
        maxLength: 255
        type: string
      type:
        allOf:
        - $ref: '#/definitions/models.IntegrationType'
        enum:
        - slack
        - jira
        - calendly
        - zapier
        - webhook
        - custom
      webhook_secret:
        type: string
      webhook_url:
        type: string
    required:
    - name
    - type
    type: object
  models.CreateScrapingJobRequest:
    properties:
      max_depth:
        maximum: 5
        minimum: 1
        type: integer
      url:
        type: string
    required:
    - url
    type: object
  models.Customer:
    properties:
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      name:
        type: string
      org_id:
        type: string
      tenant_id:
        type: string
      updated_at:
        type: string
    type: object
  models.EmailConnector:
    properties:
      created_at:
        type: string
      dkim_public_key:
        type: string
      dkim_selector:
        description: DKIM settings
        type: string
      id:
        type: string
      imap_folder:
        type: string
      imap_host:
        description: IMAP settings
        type: string
      imap_port:
        type: integer
      imap_seen_strategy:
        $ref: '#/definitions/models.IMAPSeenStrategy'
      imap_use_tls:
        type: boolean
      imap_username:
        type: string
      is_active:
        type: boolean
      is_validated:
        description: Validation fields
        type: boolean
      last_health:
        $ref: '#/definitions/models.JSONMap'
      last_validation_at:
        type: string
      name:
        type: string
      oauth_account_email:
        type: string
      oauth_provider:
        allOf:
        - $ref: '#/definitions/models.EmailProvider'
        description: OAuth reference
      oauth_token_ref:
        type: string
      project_id:
        type: string
      provider_webhook_secret:
        description: Provider webhook
        type: string
      return_path_domain:
        type: string
      smtp_host:
        description: SMTP settings
        type: string
      smtp_port:
        type: integer
      smtp_use_tls:
        type: boolean
      smtp_username:
        type: string
      tenant_id:
        type: string
      type:
        $ref: '#/definitions/models.EmailConnectorType'
      updated_at:
        type: string
      validation_error:
        type: string
      validation_status:
        type: string
    type: object
  models.EmailConnectorType:
    enum:
    - inbound_imap
    - outbound_smtp
    - outbound_provider
    type: string
    x-enum-varnames:
    - ConnectorTypeInboundIMAP
    - ConnectorTypeOutboundSMTP
    - ConnectorTypeOutboundProvider
  models.EmailDomain:
    properties:
      created_at:
        type: string
      domain:
        type: string
      expires_at:
        type: string
      id:
        type: string
      metadata:
        $ref: '#/definitions/models.JSONMap'
      project_id:
        type: string
      status:
        type: string
      tenant_id:
        type: string
      updated_at:
        type: string
      validation_token:
        type: string
      verified_at:
        type: string
    type: object
  models.EmailProvider:
    enum:
    - google
    - microsoft
    type: string
    x-enum-varnames:
    - ProviderGoogle
    - ProviderMicrosoft
  models.ErrorResponse:
    properties:
      code:
        type: integer
      error:
        type: string
      message:
        type: string
    type: object
  models.IMAPSeenStrategy:
    enum:
    - mark_seen_after_parse
    - never
    - immediate
    type: string
    x-enum-varnames:
    - SeenStrategyMarkAfterParse
    - SeenStrategyNever
    - SeenStrategyImmediate
  models.Integration:
    properties:
      auth_data:
        $ref: '#/definitions/models.JSONMap'
      auth_method:
        $ref: '#/definitions/models.AuthMethod'
      config:
        $ref: '#/definitions/models.JSONMap'
      created_at:
        type: string
      id:
        type: string
      last_error:
        type: string
      last_sync_at:
        type: string
      name:
        type: string
      oauth_token_id:
        type: string
      project_id:
        type: string
      retry_count:
        type: integer
      status:
        $ref: '#/definitions/models.IntegrationStatus'
      tenant_id:
        type: string
      type:
        $ref: '#/definitions/models.IntegrationType'
      updated_at:
        type: string
      webhook_secret:
        type: string
      webhook_url:
        type: string
    type: object
  models.IntegrationStatus:
    enum:
    - active
    - inactive
    - error
    - configuring
    type: string
    x-enum-varnames:
    - IntegrationStatusActive
    - IntegrationStatusInactive
    - IntegrationStatusError
    - IntegrationStatusConfiguring
  models.IntegrationType:
    enum:
    - slack
    - microsoft_teams
    - discord
    - telegram
    - whatsapp
    - jira
    - linear
    - asana
    - trello
    - monday
    - notion
    - airtable
    - hubspot
    - salesforce
    - zendesk
    - freshdesk
    - intercom
    - crisp
    - calendly
    - google_calendar
    - outlook_calendar
    - zoom
    - google_meet
    - microsoft_teams_meeting
    - google_drive
    - dropbox
    - box
    - onedrive
    - aws_s3
    - azure_storage
    - google_cloud_storage
    - stripe
    - paypal
    - square
    - twilio
    - sendgrid
    - mailchimp
    - constant_contact
    - github
    - shopify
    - woocommerce
    - magento
    - bigcommerce
    - zapier
    - webhook
    - custom
    type: string
    x-enum-varnames:
    - IntegrationTypeSlack
    - IntegrationTypeMicrosoftTeams
    - IntegrationTypeDiscord
    - IntegrationTypeTelegram
    - IntegrationTypeWhatsApp
    - IntegrationTypeJira
    - IntegrationTypeLinear
    - IntegrationTypeAsana
    - IntegrationTypeTrello
    - IntegrationTypeMonday
    - IntegrationTypeNotion
    - IntegrationTypeAirtable
    - IntegrationTypeHubSpot
    - IntegrationTypeSalesforce
    - IntegrationTypeZendesk
    - IntegrationTypeFreshdesk
    - IntegrationTypeIntercom
    - IntegrationTypeCrisp
    - IntegrationTypeCalendly
    - IntegrationTypeGoogleCalendar
    - IntegrationTypeOutlookCalendar
    - IntegrationTypeZoom
    - IntegrationTypeGoogleMeet
    - IntegrationTypeTeamsMeeting
    - IntegrationTypeGoogleDrive
    - IntegrationTypeDropbox
    - IntegrationTypeBox
    - IntegrationTypeOneDrive
    - IntegrationTypeAWSS3
    - IntegrationTypeAzureStorage
    - IntegrationTypeGoogleCloudStorage
    - IntegrationTypeStripe
    - IntegrationTypePayPal
    - IntegrationTypeSquare
    - IntegrationTypeTwilio
    - IntegrationTypeSendGrid
    - IntegrationTypeMailchimp
    - IntegrationTypeConstantContact
    - IntegrationTypeGitHub
    - IntegrationTypeShopify
    - IntegrationTypeWooCommerce
    - IntegrationTypeMagento
    - IntegrationTypeBigCommerce
    - IntegrationTypeZapier
    - IntegrationTypeWebhook
    - IntegrationTypeCustom
  models.JSONMap:
    additionalProperties: true
    type: object
  models.KnowledgeDocument:
    properties:
      content_type:
        type: string
      created_at:
        type: string
      error_message:
        type: string
      file_path:
        type: string
      file_size:
        type: integer
      filename:
        type: string
      id:
        type: string
      metadata:
        $ref: '#/definitions/models.JSONMap'
      original_content:
        type: string
      processed_content:
        type: string
      project_id:
        type: string
      status:
        type: string
      tenant_id:
        type: string
      updated_at:
        type: string
    type: object
  models.KnowledgeScrapingJob:
    properties:
      completed_at:
        type: string
      created_at:
        type: string
      error_message:
        type: string
      id:
        type: string
      indexing_completed_at:
        type: string
      indexing_started_at:
        type: string
      max_depth:
        type: integer
      pages_scraped:
        type: integer
      project_id:
        type: string
      selected_links:
        items:
          type: string
        type: array
      staging_file_path:
        type: string
      started_at:
        type: string
      status:
        type: string
      tenant_id:
        type: string
      total_pages:
        type: integer
      updated_at:
        type: string
      url:
        type: string
    type: object
  models.Notification:
    properties:
      action_url:
        type: string
      agent_id:
        type: string
      channels:
        items:
          $ref: '#/definitions/models.NotificationChannel'
        type: array
      created_at:
        type: string
      expires_at:
        type: string
      id:
        type: string
      is_read:
        type: boolean
      message:
        type: string
      metadata: {}
      priority:
        $ref: '#/definitions/models.NotificationPriority'
      project_id:
        type: string
      read_at:
        type: string
      tenant_id:
        type: string
      title:
        type: string
      type:
        $ref: '#/definitions/models.NotificationType'
      updated_at:
        type: string
    type: object
  models.NotificationChannel:
    enum:
    - web
    - email
    - slack
    - sms
    - push
    - audio
    - desktop
    - overlay
    - popup
    type: string
    x-enum-varnames:
    - NotificationChannelWeb
    - NotificationChannelEmail
    - NotificationChannelSlack
    - NotificationChannelSMS
    - NotificationChannelPush
    - NotificationChannelAudio
    - NotificationChannelDesktop
    - NotificationChannelOverlay
    - NotificationChannelPopup
  models.NotificationPriority:
    enum:
    - low
    - normal
    - high
    - urgent
    - critical
    type: string
    x-enum-varnames:
    - NotificationPriorityLow
    - NotificationPriorityNormal
    - NotificationPriorityHigh
    - NotificationPriorityUrgent
    - NotificationPriorityCritical
  models.NotificationType:
    enum:
    - ticket_assigned
    - ticket_updated
    - ticket_escalated
    - ticket_resolved
    - message_received
    - mention_received
    - sla_warning
    - sla_breach
    - system_alert
    - maintenance_notice
    - feature_announcement
    - agent_assignment
    - howling_alarm
    - alarm_escalation
    - alarm_acknowledged
    - urgent_request
    type: string
    x-enum-varnames:
    - NotificationTypeTicketAssigned
    - NotificationTypeTicketUpdated
    - NotificationTypeTicketEscalated
    - NotificationTypeTicketResolved
    - NotificationTypeMessageReceived
    - NotificationTypeMentionReceived
    - NotificationTypeSLAWarning
    - NotificationTypeSLABreach
    - NotificationTypeSystemAlert
    - NotificationTypeMaintenanceNotice
    - NotificationTypeFeatureAnnouncement
    - NotificationTypeAgentAssignment
    - NotificationTypeHowlingAlarm
    - NotificationTypeAlarmEscalation
    - NotificationTypeAlarmAcknowledged
    - NotificationTypeUrgentRequest
  models.Project:
    properties:
      created_at:
        type: string
      expires_at:
        type: string
      id:
        type: string
      is_public:
        type: boolean
      key:
        type: string
      name:
        type: string
      status:
        type: string
      tenant_id:
        type: string
      updated_at:
        type: string
    type: object
  models.RoleType:
    enum:
    - tenant_admin
    - project_admin
    - supervisor
    - agent
    - read_only
    type: string
    x-enum-varnames:
    - RoleTenantAdmin
    - RoleProjectAdmin
    - RoleSupervisor
    - RoleAgent
    - RoleReadOnly
  models.Ticket:
    properties:
      assignee_agent_id:
        type: string
      assignee_name:
        type: string
      created_at:
        type: string
      customer_id:
        type: string
      id:
        type: string
      number:
        type: integer
      priority:
        type: string
      project_id:
        type: string
      project_key:
        type: string
      project_name:
        type: string
      requester_email:
        type: string
      requester_name:
        description: Joined fields
        type: string
      source:
        type: string
      status:
        type: string
      subject:
        type: string
      tenant_id:
        type: string
      type:
        type: string
      updated_at:
        type: string
    type: object
  models.UpdateChatWidgetRequest:
    properties:
      agent_avatar_url:
        type: string
      agent_name:
        maxLength: 255
        type: string
      allow_file_uploads:
        type: boolean
      auto_open_delay:
        maximum: 60
        minimum: 0
        type: integer
      background_color:
        type: string
      business_hours:
        $ref: '#/definitions/models.JSONMap'
      chat_bubble_style:
        enum:
        - modern
        - classic
        - minimal
        - bot
        type: string
      custom_greeting:
        maxLength: 500
        type: string
      is_active:
        description: Name             *string  `json:"name,omitempty" binding:"omitempty,max=255"`
        type: boolean
      offline_message:
        maxLength: 500
        type: string
      position:
        enum:
        - bottom-right
        - bottom-left
        type: string
      primary_color:
        type: string
      require_email:
        type: boolean
      require_name:
        type: boolean
      secondary_color:
        type: string
      show_agent_avatars:
        type: boolean
      use_ai:
        type: boolean
      welcome_message:
        maxLength: 500
        type: string
      widget_shape:
        enum:
        - rounded
        - square
        type: string
    type: object
  service.AddPublicMessageRequest:
    properties:
      body:
        type: string
    required:
    - body
    type: object
  service.AssignRoleRequest:
    properties:
      project_id:
        type: string
      role:
        $ref: '#/definitions/models.RoleType'
    required:
    - role
    type: object
  service.CreateAgentRequest:
    properties:
      email:
        type: string
      name:
        maxLength: 255
        minLength: 1
        type: string
      password:
        minLength: 8
        type: string
      role:
        $ref: '#/definitions/models.RoleType'
    required:
    - email
    - name
    - password
    - role
    type: object
  service.CreateCustomerRequest:
    properties:
      email:
        type: string
      metadata:
        additionalProperties:
          type: string
        type: object
      name:
        maxLength: 255
        minLength: 1
        type: string
    required:
    - email
    - name
    type: object
  service.CreateTicketRequest:
    properties:
      assignee_agent_id:
        type: string
      initial_message:
        type: string
      priority:
        enum:
        - low
        - normal
        - high
        - urgent
        type: string
      requester_email:
        type: string
      requester_name:
        maxLength: 255
        minLength: 1
        type: string
      source:
        enum:
        - web
        - email
        - api
        - phone
        - chat
        type: string
      subject:
        maxLength: 500
        minLength: 1
        type: string
      type:
        enum:
        - question
        - incident
        - problem
        - task
        type: string
    required:
    - initial_message
    - requester_email
    - requester_name
    - subject
    type: object
  service.MessageUserInfo:
    properties:
      email:
        type: string
      id:
        type: string
      name:
        type: string
    type: object
  service.RemoveRoleRequest:
    properties:
      project_id:
        type: string
      role:
        $ref: '#/definitions/models.RoleType'
    required:
    - role
    type: object
  service.URLAnalysisRequest:
    properties:
      max_depth:
        type: integer
      url:
        type: string
    required:
    - url
    type: object
  service.UpdateAgentRequest:
    properties:
      is_active:
        type: boolean
      name:
        maxLength: 255
        minLength: 1
        type: string
      password:
        minLength: 8
        type: string
    type: object
  service.UpdateCustomerRequest:
    properties:
      metadata:
        additionalProperties:
          type: string
        type: object
      name:
        maxLength: 255
        minLength: 1
        type: string
    type: object
  service.UpdateTicketRequest:
    properties:
      assignee_agent_id:
        type: string
      priority:
        enum:
        - low
        - normal
        - high
        - urgent
        type: string
      status:
        enum:
        - new
        - open
        - pending
        - resolved
        - closed
        type: string
      subject:
        maxLength: 500
        minLength: 1
        type: string
      type:
        enum:
        - question
        - incident
        - problem
        - task
        type: string
    type: object
  time.Duration:
    enum:
    - -9223372036854775808
    - 9223372036854775807
    - 1
    - 1000
    - 1000000
    - 1000000000
    - 60000000000
    - 3600000000000
    format: int64
    type: integer
    x-enum-varnames:
    - minDuration
    - maxDuration
    - Nanosecond
    - Microsecond
    - Millisecond
    - Second
    - Minute
    - Hour
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: Ticket Management System API server
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: TMS API
  version: "1.0"
paths:
  /api/ai-builder/stream:
    post:
      consumes:
      - application/json
      description: Build AI knowledge base from website URL and stream the progress
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Website URL to scrape
        in: query
        name: url
        type: string
      - description: 'Scraping depth (1-5, default: 3)'
        in: query
        name: depth
        type: integer
      - description: Build request (alternative to query params)
        in: body
        name: build
        schema:
          $ref: '#/definitions/handlers.aiBuildRequest'
      produces:
      - text/event-stream
      responses:
        "200":
          description: Server-sent events stream
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Stream AI knowledge base build
      tags:
      - ai-builder
  /api/ai-usage/{tenant_id}/deduct:
    post:
      consumes:
      - application/json
      description: Deduct credits based on AI token usage for a specific tenant
      parameters:
      - description: Tenant ID
        in: path
        name: tenant_id
        required: true
        type: string
      - description: AI usage deduction request
        in: body
        name: usage
        required: true
        schema:
          $ref: '#/definitions/handlers.deductUsageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              remaining_credits:
                format: int64
                type: integer
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - S2SAuth: []
      summary: Deduct AI usage credits
      tags:
      - ai-usage
  /api/alarms/{alarm_id}/acknowledge:
    post:
      consumes:
      - application/json
      description: Acknowledge a specific alarm to mark it as seen/handled
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Alarm ID
        in: path
        name: alarm_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Acknowledge alarm
      tags:
      - alarms
  /api/alarms/active:
    get:
      consumes:
      - application/json
      description: Retrieve all active alarms for a specific project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              alarms:
                items:
                  $ref: '#/definitions/models.Alarm'
                type: array
              total:
                type: integer
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get active alarms
      tags:
      - alarms
  /api/alarms/notification-preferences:
    get:
      consumes:
      - application/json
      description: Retrieve notification preferences for alarm notifications
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Agent ID
        in: header
        name: agent_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              agent_id:
                type: string
              browser_enabled:
                type: boolean
              desktop_enabled:
                type: boolean
              email_enabled:
                type: boolean
              escalation_timeout_minutes:
                type: integer
              sound_enabled:
                type: boolean
              tenant_id:
                type: string
              vibration_enabled:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get notification preferences
      tags:
      - alarms
    put:
      consumes:
      - application/json
      description: Update notification preferences for alarm notifications
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Agent ID
        in: header
        name: agent_id
        required: true
        type: string
      - description: Notification preferences to update
        in: body
        name: preferences
        required: true
        schema:
          properties:
            browser_enabled:
              type: boolean
            desktop_enabled:
              type: boolean
            email_enabled:
              type: boolean
            escalation_timeout_minutes:
              type: integer
            sound_enabled:
              type: boolean
            vibration_enabled:
              type: boolean
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              agent_id:
                type: string
              message:
                type: string
              preferences:
                type: object
              tenant_id:
                type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Update notification preferences
      tags:
      - alarms
  /api/alarms/stats:
    get:
      consumes:
      - application/json
      description: Retrieve alarm statistics and metrics for a project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AlarmStats'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get alarm statistics
      tags:
      - alarms
  /api/chat-sessions:
    get:
      consumes:
      - application/json
      description: Retrieve a list of chat sessions for a project with optional filtering
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Filter by session status
        in: query
        name: status
        type: string
      - description: Filter by assigned agent ID
        in: query
        name: agent_id
        type: string
      - description: 'Number of sessions to return (default: 50)'
        in: query
        name: limit
        type: integer
      - description: 'Number of sessions to skip (default: 0)'
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              sessions:
                items:
                  $ref: '#/definitions/models.ChatSession'
                type: array
              total:
                type: integer
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: List chat sessions
      tags:
      - chat-sessions
  /api/chat-sessions/{session_id}:
    get:
      consumes:
      - application/json
      description: Retrieve a specific chat session by its ID
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Chat Session ID
        in: path
        name: session_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ChatSession'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get chat session
      tags:
      - chat-sessions
  /api/chat-sessions/{session_id}/assign:
    post:
      consumes:
      - application/json
      description: Assign a specific agent to handle a chat session
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Chat Session ID
        in: path
        name: session_id
        required: true
        type: string
      - description: Agent assignment request
        in: body
        name: assignment
        required: true
        schema:
          properties:
            agent_id:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ChatSession'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Assign agent to chat session
      tags:
      - chat-sessions
  /api/chat-sessions/{session_id}/escalate:
    post:
      consumes:
      - application/json
      description: Escalate a chat session to human agents with alarm notification
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Agent ID (who is escalating)
        in: header
        name: agent_id
        required: true
        type: string
      - description: Chat Session ID
        in: path
        name: session_id
        required: true
        type: string
      - description: Escalation reason
        in: body
        name: escalation
        required: true
        schema:
          properties:
            reason:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Escalate chat session
      tags:
      - chat-sessions
  /api/chat-sessions/{session_id}/mark-agent-messages-read:
    post:
      consumes:
      - application/json
      description: Mark all agent messages in a chat session as read by the customer
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Chat Session ID
        in: path
        name: session_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Mark agent messages as read
      tags:
      - chat-sessions
  /api/chat-sessions/{session_id}/messages:
    get:
      consumes:
      - application/json
      description: Retrieve all messages for a specific chat session
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Chat Session ID
        in: path
        name: session_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              messages:
                items:
                  $ref: '#/definitions/models.ChatMessage'
                type: array
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get chat messages
      tags:
      - chat-sessions
  /api/chat-sessions/customer-online:
    get:
      consumes:
      - application/json
      description: Check if a customer is currently online in a chat session
      parameters:
      - description: Session ID
        in: header
        name: session_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              online:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Check customer online status
      tags:
      - chat-sessions
  /api/chat-sessions/visitor/mark-messages-read/{message_id}:
    post:
      consumes:
      - application/json
      description: Mark messages as read from the visitor/customer perspective
      parameters:
      - description: Session ID
        in: header
        name: session_id
        required: true
        type: string
      - description: Message ID
        in: path
        name: message_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Mark visitor messages as read
      tags:
      - chat-sessions
  /api/chat-widgets:
    get:
      consumes:
      - application/json
      description: Retrieve all chat widgets for a project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              widgets:
                items:
                  $ref: '#/definitions/models.ChatWidget'
                type: array
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: List chat widgets
      tags:
      - chat-widget
    post:
      consumes:
      - application/json
      description: Create a new chat widget for a project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Chat widget creation request
        in: body
        name: widget
        required: true
        schema:
          $ref: '#/definitions/models.CreateChatWidgetRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.ChatWidget'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Create chat widget
      tags:
      - chat-widget
  /api/chat-widgets/{widget_id}:
    delete:
      consumes:
      - application/json
      description: Delete a chat widget by its ID
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Chat Widget ID
        in: path
        name: widget_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Delete chat widget
      tags:
      - chat-widget
    get:
      consumes:
      - application/json
      description: Retrieve a chat widget by its ID
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Chat Widget ID
        in: path
        name: widget_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ChatWidget'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get chat widget
      tags:
      - chat-widget
    put:
      consumes:
      - application/json
      description: Update an existing chat widget
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Chat Widget ID
        in: path
        name: widget_id
        required: true
        type: string
      - description: Chat widget update request
        in: body
        name: widget
        required: true
        schema:
          $ref: '#/definitions/models.UpdateChatWidgetRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ChatWidget'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Update chat widget
      tags:
      - chat-widget
  /api/chat-widgets/scrape-theme:
    post:
      consumes:
      - application/json
      description: Scrape a website and generate theme configuration using AI
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Website URL to scrape
        in: body
        name: url
        required: true
        schema:
          properties:
            url:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              theme:
                type: object
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Scrape website theme
      tags:
      - chat-widget
  /api/domains:
    get:
      consumes:
      - application/json
      description: Retrieve all domain validations for a project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              domains:
                items:
                  $ref: '#/definitions/models.EmailDomain'
                type: array
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: List domain validations
      tags:
      - domain-validation
    post:
      consumes:
      - application/json
      description: Create a new domain validation request for domain ownership verification
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Domain validation request
        in: body
        name: domain
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateDomainValidationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.EmailDomain'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Create domain validation
      tags:
      - domain-validation
  /api/domains/{domain_id}:
    delete:
      consumes:
      - application/json
      description: Delete a domain validation by its ID
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Domain ID
        in: path
        name: domain_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Delete domain validation
      tags:
      - domain-validation
  /api/domains/{domain_id}/verify:
    post:
      consumes:
      - application/json
      description: Verify domain ownership using provided verification proof
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Domain ID
        in: path
        name: domain_id
        required: true
        type: string
      - description: Domain verification proof
        in: body
        name: proof
        required: true
        schema:
          $ref: '#/definitions/handlers.VerifyDomainRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              verified_at:
                type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Verify domain ownership
      tags:
      - domain-validation
  /api/email/connectors:
    post:
      consumes:
      - application/json
      description: Create a new email connector for incoming emails
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Email connector configuration
        in: body
        name: connector
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateConnectorRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.EmailConnector'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Create email connector
      tags:
      - email
  /api/emails:
    get:
      consumes:
      - application/json
      description: Retrieve a filtered list of emails from the inbox
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Filter by project ID
        in: query
        name: project_id
        type: string
      - description: Filter by mailbox address
        in: query
        name: mailbox_address
        type: string
      - description: Filter by read status
        in: query
        name: is_read
        type: boolean
      - description: Filter by ticket association
        in: query
        name: has_ticket
        type: boolean
      - description: Search in subject and content
        in: query
        name: search
        type: string
      - description: 'Number of emails to return (default: 50)'
        in: query
        name: limit
        type: integer
      - description: 'Number of emails to skip (default: 0)'
        in: query
        name: offset
        type: integer
      - description: 'Order by field (default: received_at)'
        in: query
        name: order_by
        type: string
      - description: 'Order direction (default: DESC)'
        in: query
        name: order_dir
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              emails:
                items:
                  $ref: '#/definitions/handlers.EmailResponse'
                type: array
              page:
                type: integer
              total:
                type: integer
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: List emails
      tags:
      - email-inbox
  /api/emails/{id}:
    get:
      consumes:
      - application/json
      description: Retrieve a specific email by its ID
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Email ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.EmailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get email
      tags:
      - email-inbox
  /api/emails/{id}/convert-to-ticket:
    post:
      consumes:
      - application/json
      description: Convert an email message to a support ticket
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Email ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Ticket'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Convert email to ticket
      tags:
      - email-inbox
  /api/emails/{id}/mark-read:
    post:
      consumes:
      - application/json
      description: Mark a specific email as read
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Email ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Mark email as read
      tags:
      - email-inbox
  /api/integrations:
    get:
      consumes:
      - application/json
      description: Retrieve all integrations for a project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              integrations:
                items:
                  $ref: '#/definitions/models.Integration'
                type: array
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: List integrations
      tags:
      - integrations
    post:
      consumes:
      - application/json
      description: Create a new third-party integration for a project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Integration creation request
        in: body
        name: integration
        required: true
        schema:
          $ref: '#/definitions/models.CreateIntegrationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Integration'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Create integration
      tags:
      - integrations
  /api/integrations/{id}:
    get:
      consumes:
      - application/json
      description: Retrieve a specific integration by its ID
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Integration ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Integration'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get integration
      tags:
      - integrations
  /api/knowledge/documents:
    get:
      consumes:
      - application/json
      description: Retrieve all documents in the knowledge base for a project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              documents:
                items:
                  $ref: '#/definitions/models.KnowledgeDocument'
                type: array
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: List documents
      tags:
      - knowledge
  /api/knowledge/documents/upload:
    post:
      consumes:
      - multipart/form-data
      description: Upload a document file for knowledge base processing
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Document file to upload
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.KnowledgeDocument'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Upload document
      tags:
      - knowledge
  /api/knowledge/scraping-jobs:
    post:
      consumes:
      - application/json
      description: Create a new web scraping job to extract content from websites
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: header
        name: project_id
        required: true
        type: string
      - description: Scraping job configuration
        in: body
        name: job
        required: true
        schema:
          $ref: '#/definitions/models.CreateScrapingJobRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.KnowledgeScrapingJob'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Create scraping job
      tags:
      - knowledge
  /api/notifications:
    get:
      consumes:
      - application/json
      description: Retrieve notifications for the authenticated agent with pagination
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Agent ID
        in: header
        name: agent_id
        required: true
        type: string
      - description: 'Number of notifications to return (default: 20, max: 100)'
        in: query
        name: limit
        type: integer
      - description: 'Number of notifications to skip (default: 0)'
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              notifications:
                items:
                  $ref: '#/definitions/models.Notification'
                type: array
              total:
                type: integer
              unread_count:
                type: integer
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get notifications
      tags:
      - notifications
  /api/notifications/{id}/read:
    put:
      consumes:
      - application/json
      description: Mark a specific notification as read by its ID
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Agent ID
        in: header
        name: agent_id
        required: true
        type: string
      - description: Notification ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Mark notification as read
      tags:
      - notifications
  /api/payments/create-session:
    post:
      consumes:
      - application/json
      description: Create a payment session with automatic gateway selection based
        on user location
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Payment session request
        in: body
        name: payment
        required: true
        schema:
          properties:
            amount:
              type: number
            currency:
              type: string
            type:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              amount:
                type: number
              currency:
                type: string
              expires_at:
                type: string
              gateway:
                type: string
              payment_url:
                type: string
              session_id:
                type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Create payment session
      tags:
      - payments
  /api/payments/gateway-preview:
    get:
      consumes:
      - application/json
      description: Get the recommended payment gateway based on user's location
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              country:
                type: string
              currency:
                type: string
              gateway:
                type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get payment gateway preview
      tags:
      - payments
  /api/public/ai-widget-builder:
    post:
      consumes:
      - application/json
      description: Automatically creates a public project and builds an AI-powered
        chat widget by scraping the provided website URL. Streams progress events.
        Limited to 2 requests per 6 hours per IP address.
      parameters:
      - description: Website URL to scrape
        in: query
        name: url
        type: string
      - description: 'Scraping depth (1-5, default: 3)'
        in: query
        name: depth
        type: integer
      - description: Build request (alternative to query params)
        in: body
        name: build
        schema:
          $ref: '#/definitions/handlers.publicAIBuildRequest'
      produces:
      - text/event-stream
      responses:
        "200":
          description: Server-sent events stream
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "429":
          description: Too Many Requests
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Build public AI widget from website URL
      tags:
      - public-ai-builder
  /api/public/analyze-url:
    post:
      consumes:
      - application/json
      description: Analyze a public URL to discover associated URLs and their token
        counts up to specified depth
      parameters:
      - description: URL analysis request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.URLAnalysisRequest'
      produces:
      - text/event-stream
      responses:
        "200":
          description: Server-sent events stream with analysis progress
          schema:
            type: string
        "400":
          description: Invalid request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Analyze public URL
      tags:
      - Public
  /api/public/generate-magic-link:
    post:
      consumes:
      - application/json
      description: Generate a magic link token for testing purposes - should be removed
        in production
      parameters:
      - description: Ticket ID and Customer ID
        in: body
        name: request
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Magic link token and URL
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Invalid input data
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Generate magic link (Testing only)
      tags:
      - Public API
  /api/public/health:
    get:
      consumes:
      - application/json
      description: Check the health status of the API server
      produces:
      - application/json
      responses:
        "200":
          description: Service is healthy
          schema:
            $ref: '#/definitions/handlers.HealthResponse'
      summary: Health check
      tags:
      - Health
  /api/public/tickets/{ticketId}:
    get:
      consumes:
      - application/json
      description: Retrieve ticket details and messages using ticket ID (no authentication
        required)
      parameters:
      - description: Ticket ID
        format: uuid
        in: path
        name: ticketId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Ticket details with messages
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Invalid ticket ID format
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Ticket not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Get ticket by ID
      tags:
      - Public API
  /api/public/tickets/{ticketId}/messages:
    get:
      consumes:
      - application/json
      description: Retrieve paginated messages for a ticket using ticket ID
      parameters:
      - description: Ticket ID
        format: uuid
        in: path
        name: ticketId
        required: true
        type: string
      - description: Pagination cursor
        in: query
        name: cursor
        type: string
      - default: 50
        description: Number of messages per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Paginated list of messages
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Invalid ticket ID format
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Ticket not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Get ticket messages by ID
      tags:
      - Public API
    post:
      consumes:
      - application/json
      description: Add a new message to a ticket using ticket ID
      parameters:
      - description: Ticket ID
        format: uuid
        in: path
        name: ticketId
        required: true
        type: string
      - description: Message content
        in: body
        name: message
        required: true
        schema:
          $ref: '#/definitions/service.AddPublicMessageRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Message created successfully
          schema:
            $ref: '#/definitions/handlers.PublicMessage'
        "400":
          description: Bad request - Invalid input data
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Ticket not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Add message by ticket ID
      tags:
      - Public API
  /api/public/tickets/tokens/{token}:
    get:
      consumes:
      - application/json
      description: Retrieve ticket details and messages using a magic link token (no
        authentication required)
      parameters:
      - description: Magic link token
        in: path
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Ticket details with messages
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Missing or invalid token
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or expired token
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Get ticket by magic link
      tags:
      - Public API
  /api/public/tickets/tokens/{token}/messages:
    get:
      consumes:
      - application/json
      description: Retrieve paginated messages for a ticket using a magic link token
      parameters:
      - description: Magic link token
        in: path
        name: token
        required: true
        type: string
      - description: Pagination cursor
        in: query
        name: cursor
        type: string
      - default: 50
        description: Number of messages per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Paginated list of messages
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Missing or invalid token
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or expired token
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Get ticket messages by magic link
      tags:
      - Public API
    post:
      consumes:
      - application/json
      description: Add a new message to a ticket using a magic link token
      parameters:
      - description: Magic link token
        in: path
        name: token
        required: true
        type: string
      - description: Message content
        in: body
        name: message
        required: true
        schema:
          $ref: '#/definitions/service.AddPublicMessageRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Message created successfully
          schema:
            $ref: '#/definitions/handlers.PublicMessage'
        "400":
          description: Bad request - Invalid input data
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or expired token
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Add message by magic link
      tags:
      - Public API
  /api/settings/branding:
    get:
      consumes:
      - application/json
      description: Retrieve branding configuration settings for the current tenant
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.BrandingSettings'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get branding settings
      tags:
      - settings
  /api/settings/projects/{project_id}/about-me:
    get:
      consumes:
      - application/json
      description: Retrieve about me configuration settings for a project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AboutMeSettings'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get about me settings
      tags:
      - settings
    put:
      consumes:
      - application/json
      description: Update about me configuration settings for a project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      - description: About me settings to update
        in: body
        name: about_me
        required: true
        schema:
          $ref: '#/definitions/handlers.AboutMeSettings'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AboutMeSettings'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Update about me settings
      tags:
      - settings
  /api/settings/projects/{project_id}/automation:
    get:
      consumes:
      - application/json
      description: Retrieve automation configuration settings for a project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AutomationSettings'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get automation settings
      tags:
      - settings
    put:
      consumes:
      - application/json
      description: Update automation configuration settings for a project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      - description: Automation settings to update
        in: body
        name: automation
        required: true
        schema:
          $ref: '#/definitions/handlers.AutomationSettings'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AutomationSettings'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Update automation settings
      tags:
      - settings
  /api/settings/projects/{project_id}/branding:
    put:
      consumes:
      - application/json
      description: Update branding configuration settings for a project
      parameters:
      - description: Tenant ID
        in: header
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      - description: Branding settings to update
        in: body
        name: branding
        required: true
        schema:
          $ref: '#/definitions/handlers.BrandingSettings'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.BrandingSettings'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Update branding settings
      tags:
      - settings
  /api/v1/tenants/{tenant_id}/projects:
    get:
      consumes:
      - application/json
      description: Get list of projects accessible to the authenticated agent
      parameters:
      - description: Tenant ID
        in: path
        name: tenant_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/db.Project'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List projects for agent
      tags:
      - projects
    post:
      consumes:
      - application/json
      description: Create a new project within the tenant
      parameters:
      - description: Tenant ID
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Project creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateProjectRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/db.Project'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Create a new project
      tags:
      - projects
  /api/v1/tenants/{tenant_id}/projects/{project_id}:
    delete:
      consumes:
      - application/json
      description: Delete an existing project
      parameters:
      - description: Tenant ID
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Delete project
      tags:
      - projects
    get:
      consumes:
      - application/json
      - application/json
      description: |-
        Get details of a specific project
        Retrieve a specific project by its ID
      parameters:
      - description: Tenant ID
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      - description: Tenant ID
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Project'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get project
      tags:
      - projects
      - projects
    put:
      consumes:
      - application/json
      description: Update an existing project
      parameters:
      - description: Tenant ID
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      - description: Project update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateProjectRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/db.Project'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Update project
      tags:
      - projects
  /health:
    get:
      consumes:
      - application/json
      description: Check the health status of the API server
      produces:
      - application/json
      responses:
        "200":
          description: Service is healthy
          schema:
            $ref: '#/definitions/handlers.HealthResponse'
      summary: Health check
      tags:
      - Health
  /public/chat-widgets/{widget_id}:
    get:
      consumes:
      - application/json
      description: Retrieve a chat widget by its public ID (for public access)
      parameters:
      - description: Chat Widget Public ID
        in: path
        name: widget_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ChatWidget'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      summary: Get chat widget by public ID
      tags:
      - chat-widget
  /public/chat/ws:
    get:
      consumes:
      - application/json
      description: Establish WebSocket connection for real-time chat communication
        from visitors
      parameters:
      - description: Session token for authentication
        in: header
        name: session_token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "101":
          description: Switching Protocols - WebSocket connection established
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      summary: Public chat WebSocket connection
      tags:
      - chat-websocket
  /v1/auth/ai-agent/tenant/{tenant_id}/project/{project_id}/login:
    post:
      consumes:
      - application/json
      description: Authenticate AI agent with tenant and project context
      parameters:
      - description: Service-to-service authentication key
        in: header
        name: X-S2S-KEY
        required: true
        type: string
      - description: Tenant ID
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      - description: Login credentials
        in: body
        name: loginRequest
        required: true
        schema:
          $ref: '#/definitions/handlers.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Successfully authenticated
          schema:
            $ref: '#/definitions/handlers.LoginResponse'
        "400":
          description: Invalid request or validation failed
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Authentication failed
          schema:
            additionalProperties: true
            type: object
      summary: AI Agent login
      tags:
      - Auth
  /v1/auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate user with email and password
      parameters:
      - description: Login credentials
        in: body
        name: loginRequest
        required: true
        schema:
          $ref: '#/definitions/handlers.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Successfully authenticated
          schema:
            $ref: '#/definitions/handlers.LoginResponse'
        "400":
          description: Invalid request or validation failed
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Authentication failed
          schema:
            additionalProperties: true
            type: object
      summary: User login
      tags:
      - Auth
  /v1/auth/refresh:
    post:
      consumes:
      - application/json
      description: Get a new access token using a refresh token
      parameters:
      - description: Refresh token
        in: body
        name: refreshRequest
        required: true
        schema:
          $ref: '#/definitions/handlers.RefreshRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Successfully refreshed token
          schema:
            $ref: '#/definitions/handlers.RefreshResponse'
        "400":
          description: Invalid request or validation failed
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Invalid refresh token
          schema:
            additionalProperties: true
            type: object
      summary: Refresh access token
      tags:
      - Auth
  /v1/auth/resend-signup-otp:
    post:
      consumes:
      - application/json
      description: Resend the OTP for signup verification
      parameters:
      - description: Email to resend OTP to
        in: body
        name: resendOTPRequest
        required: true
        schema:
          $ref: '#/definitions/handlers.ResendSignupOTPRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OTP resent successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request or validation failed
          schema:
            additionalProperties: true
            type: object
      summary: Resend signup OTP
      tags:
      - Auth
  /v1/auth/signup:
    post:
      consumes:
      - application/json
      description: Register a new user account with email verification
      parameters:
      - description: User registration details
        in: body
        name: signupRequest
        required: true
        schema:
          $ref: '#/definitions/handlers.SignUpRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OTP sent to email for verification
          schema:
            $ref: '#/definitions/handlers.SignUpResponse'
        "400":
          description: Invalid request or validation failed
          schema:
            additionalProperties: true
            type: object
      summary: User registration
      tags:
      - Auth
  /v1/auth/verify-signup-otp:
    post:
      consumes:
      - application/json
      description: Verify the OTP sent during signup to complete user registration
      parameters:
      - description: OTP verification details
        in: body
        name: verifyOTPRequest
        required: true
        schema:
          $ref: '#/definitions/handlers.VerifySignupOTPRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Account verified and user logged in
          schema:
            $ref: '#/definitions/handlers.LoginResponse'
        "400":
          description: Invalid request, validation failed, or invalid OTP
          schema:
            additionalProperties: true
            type: object
      summary: Verify signup OTP
      tags:
      - Auth
  /v1/enterprise/tenants:
    get:
      consumes:
      - application/json
      description: Get a list of all tenants (requires super admin permissions)
      produces:
      - application/json
      responses:
        "200":
          description: List of tenants
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List tenants
      tags:
      - Tenants
  /v1/tenants/{tenant_id}/agents:
    get:
      consumes:
      - application/json
      description: Get a paginated list of agents in the tenant
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Search agents by name or email
        in: query
        name: search
        type: string
      - description: Pagination cursor
        in: query
        name: cursor
        type: string
      - default: 50
        description: Number of agents per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of agents with pagination info
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Invalid query parameters
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List agents
      tags:
      - Agents
    post:
      consumes:
      - application/json
      description: Create a new agent in the tenant (requires tenant admin permissions)
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Agent creation data
        in: body
        name: agent
        required: true
        schema:
          $ref: '#/definitions/service.CreateAgentRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Agent created successfully
          schema:
            $ref: '#/definitions/models.Agent'
        "400":
          description: Bad request - Invalid input data
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "409":
          description: Conflict - Agent already exists
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create a new agent
      tags:
      - Agents
  /v1/tenants/{tenant_id}/agents/{agent_id}:
    delete:
      consumes:
      - application/json
      description: Delete an agent from the tenant (requires tenant admin permissions)
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Agent ID
        format: uuid
        in: path
        name: agent_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Agent deleted successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Invalid agent ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Agent not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Delete agent
      tags:
      - Agents
    get:
      consumes:
      - application/json
      description: Retrieve detailed information about a specific agent
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Agent ID
        format: uuid
        in: path
        name: agent_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Agent details
          schema:
            $ref: '#/definitions/models.Agent'
        "400":
          description: Bad request - Invalid agent ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Agent not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get agent details
      tags:
      - Agents
    patch:
      consumes:
      - application/json
      description: Update an existing agent's information
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Agent ID
        format: uuid
        in: path
        name: agent_id
        required: true
        type: string
      - description: Agent update data
        in: body
        name: agent
        required: true
        schema:
          $ref: '#/definitions/service.UpdateAgentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Agent updated successfully
          schema:
            $ref: '#/definitions/models.Agent'
        "400":
          description: Bad request - Invalid input data
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Agent not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Update agent information
      tags:
      - Agents
  /v1/tenants/{tenant_id}/agents/{agent_id}/roles:
    delete:
      consumes:
      - application/json
      description: Remove a role from an agent (requires tenant admin permissions)
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Agent ID
        format: uuid
        in: path
        name: agent_id
        required: true
        type: string
      - description: Role removal data
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/service.RemoveRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Role removed successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Invalid input data
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Agent not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Remove role from agent
      tags:
      - Agents
    get:
      consumes:
      - application/json
      description: Retrieve all roles assigned to an agent
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Agent ID
        format: uuid
        in: path
        name: agent_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of agent roles
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Invalid agent ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Agent not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get agent roles
      tags:
      - Agents
    post:
      consumes:
      - application/json
      description: Assign a role to an agent (requires tenant admin permissions)
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Agent ID
        format: uuid
        in: path
        name: agent_id
        required: true
        type: string
      - description: Role assignment data
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/service.AssignRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Role assigned successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Invalid input data
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Agent not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Assign role to agent
      tags:
      - Agents
  /v1/tenants/{tenant_id}/chat/agent/ws:
    get:
      consumes:
      - application/json
      description: Establishes a WebSocket connection for an agent to handle real-time
        chat across all sessions they have access to. The agent can send messages,
        typing indicators, and subscribe to specific chat sessions.
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "101":
          description: WebSocket connection established
          schema:
            $ref: '#/definitions/handlers.AgentWebSocketResponse'
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing JWT token
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Establish WebSocket connection for agent
      tags:
      - Agent WebSocket
  /v1/tenants/{tenant_id}/customers:
    get:
      consumes:
      - application/json
      description: Get a paginated list of customers in the tenant
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Filter by customer email
        in: query
        name: email
        type: string
      - description: Search customers by name or email
        in: query
        name: search
        type: string
      - description: Pagination cursor
        in: query
        name: cursor
        type: string
      - default: 50
        description: Number of customers per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of customers with pagination info
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Invalid query parameters
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List customers
      tags:
      - Customers
    post:
      consumes:
      - application/json
      description: Create a new customer record for the tenant
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Customer creation data
        in: body
        name: customer
        required: true
        schema:
          $ref: '#/definitions/service.CreateCustomerRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Customer created successfully
          schema:
            $ref: '#/definitions/models.Customer'
        "400":
          description: Bad request - Invalid input data or customer already exists
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create a new customer
      tags:
      - Customers
  /v1/tenants/{tenant_id}/customers/{customer_id}:
    delete:
      consumes:
      - application/json
      description: Delete a customer record (requires tenant admin permissions)
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Customer ID
        format: uuid
        in: path
        name: customer_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Customer deleted successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Invalid customer ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Customer not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Delete customer
      tags:
      - Customers
    put:
      consumes:
      - application/json
      description: Update an existing customer's information
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Customer ID
        format: uuid
        in: path
        name: customer_id
        required: true
        type: string
      - description: Customer update data
        in: body
        name: customer
        required: true
        schema:
          $ref: '#/definitions/service.UpdateCustomerRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Customer updated successfully
          schema:
            $ref: '#/definitions/models.Customer'
        "400":
          description: Bad request - Invalid input data
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Customer not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Update customer information
      tags:
      - Customers
  /v1/tenants/{tenant_id}/projects/{project_id}/api-keys:
    get:
      consumes:
      - application/json
      description: Get a list of API keys for the project
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        format: uuid
        in: path
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of API keys
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List API keys
      tags:
      - API Keys
    post:
      consumes:
      - application/json
      description: Create a new API key for the project
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        format: uuid
        in: path
        name: project_id
        required: true
        type: string
      - description: API key creation data
        in: body
        name: apikey
        required: true
        schema:
          $ref: '#/definitions/handlers.ApiKeyRequest'
      produces:
      - application/json
      responses:
        "201":
          description: API key created successfully (key value shown only once)
          schema:
            $ref: '#/definitions/handlers.ApiKeyWithValueResponse'
        "400":
          description: Bad request - Invalid input data
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create API key
      tags:
      - API Keys
  /v1/tenants/{tenant_id}/projects/{project_id}/tickets:
    get:
      consumes:
      - application/json
      description: Get a paginated list of tickets with optional filtering
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        format: uuid
        in: path
        name: project_id
        required: true
        type: string
      - collectionFormat: multi
        description: Filter by status
        in: query
        items:
          type: string
        name: status
        type: array
      - collectionFormat: multi
        description: Filter by priority
        in: query
        items:
          type: string
        name: priority
        type: array
      - description: Filter by assignee ID
        format: uuid
        in: query
        name: assignee_id
        type: string
      - description: Filter by customer ID
        format: uuid
        in: query
        name: customer_id
        type: string
      - collectionFormat: multi
        description: Filter by tags
        in: query
        items:
          type: string
        name: tags
        type: array
      - description: Search in ticket content
        in: query
        name: search
        type: string
      - collectionFormat: multi
        description: Filter by source
        in: query
        items:
          type: string
        name: source
        type: array
      - collectionFormat: multi
        description: Filter by type
        in: query
        items:
          type: string
        name: type
        type: array
      - default: 20
        description: Number of tickets per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      - description: Pagination cursor
        in: query
        name: cursor
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of tickets with pagination info
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Invalid query parameters
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: List tickets
      tags:
      - Tickets
    post:
      consumes:
      - application/json
      description: Create a new support ticket with customer information and initial
        message
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        format: uuid
        in: path
        name: project_id
        required: true
        type: string
      - description: Ticket creation data
        in: body
        name: ticket
        required: true
        schema:
          $ref: '#/definitions/service.CreateTicketRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Ticket created successfully
          schema:
            $ref: '#/definitions/models.Ticket'
        "400":
          description: Bad request - Invalid input data
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Create a new ticket
      tags:
      - Tickets
  /v1/tenants/{tenant_id}/projects/{project_id}/tickets/{ticket_id}:
    get:
      consumes:
      - application/json
      description: Retrieve detailed information about a specific ticket
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        format: uuid
        in: path
        name: project_id
        required: true
        type: string
      - description: Ticket ID
        format: uuid
        in: path
        name: ticket_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Ticket details
          schema:
            $ref: '#/definitions/models.Ticket'
        "400":
          description: Bad request - Invalid ticket ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Ticket not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get ticket details
      tags:
      - Tickets
    patch:
      consumes:
      - application/json
      description: Update ticket properties such as status, priority, assignee, etc.
      parameters:
      - description: Tenant ID
        format: uuid
        in: path
        name: tenant_id
        required: true
        type: string
      - description: Project ID
        format: uuid
        in: path
        name: project_id
        required: true
        type: string
      - description: Ticket ID
        format: uuid
        in: path
        name: ticket_id
        required: true
        type: string
      - description: Ticket update data
        in: body
        name: ticket
        required: true
        schema:
          $ref: '#/definitions/service.UpdateTicketRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Ticket updated successfully
          schema:
            $ref: '#/definitions/models.Ticket'
        "400":
          description: Bad request - Invalid input data
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized - Invalid or missing authentication
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Ticket not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Update an existing ticket
      tags:
      - Tickets
  /webhooks/cashfree:
    post:
      consumes:
      - application/json
      description: Process incoming Cashfree payment webhook events for payment status
        updates
      parameters:
      - description: Cashfree webhook signature for verification
        in: header
        name: X-CF-Signature
        required: true
        type: string
      - description: Cashfree webhook event payload
        in: body
        name: webhook
        required: true
        schema:
          $ref: '#/definitions/handlers.CashfreeWebhookEvent'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            type: string
        "401":
          description: Unauthorized - Invalid signature
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            type: string
      summary: Handle Cashfree webhook
      tags:
      - webhooks
  /webhooks/stripe:
    post:
      consumes:
      - application/json
      description: Process incoming Stripe payment webhook events for payment status
        updates
      parameters:
      - description: Stripe webhook signature for verification
        in: header
        name: Stripe-Signature
        required: true
        type: string
      - description: Stripe webhook event payload
        in: body
        name: webhook
        required: true
        schema:
          $ref: '#/definitions/handlers.StripeWebhookEvent'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            type: string
        "401":
          description: Unauthorized - Invalid signature
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            type: string
      summary: Handle Stripe webhook
      tags:
      - webhooks
schemes:
- http
- https
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
